<!DOCTYPE html>
<html lang="zh-TW" data-theme="rosewood">

<head>
  <base href="/">
  <link rel="icon" href="gold.ico">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.8.3/angular-csp.min.css"
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Chiron+Hei+HK:ital,wght@0,200..900;1,200..900&display=swap"
    rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Huninn&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Anonymous+Pro:ital,wght@0,400;0,700;1,400;1,700&display=swap"
    rel="stylesheet">

  <link rel="stylesheet" href="/css/output.css">
  <link rel="stylesheet" href="/css/style.css">
  <!-- è‡ªå®šç¾©æ¨£å¼ --><!-- è‡ªå®šç¾©ä¸»é¡Œ CSS -->
  <link href="css/themes.css" rel="stylesheet" type="text/css" />

  <script src="https://code.highcharts.com/stock/highstock.js"></script>
  <script src="https://code.highcharts.com/stock/modules/data.js"></script>
  <script src="https://code.highcharts.com/modules/accessibility.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" crossorigin="anonymous"
    referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.8.3/angular.min.js" crossorigin="anonymous"
    referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-resource/1.8.3/angular-resource.min.js"
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-route/1.8.3/angular-route.min.js" crossorigin="anonymous"
    referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.blockUI/2.70/jquery.blockUI.min.js" crossorigin="anonymous"
    referrerpolicy="no-referrer"></script>
  <script src="https://cdn.jsdelivr.net/npm/js-cookie@3.0.5/dist/js.cookie.min.js" crossorigin="anonymous"
    referrerpolicy="no-referrer"></script>
</head>

<body ng-app="rich-app" ng-controller="indexCtrl" class="bg-base-200 text-base-content font-rich">
  <!-- ä½¿ç”¨ DaisyUI çš„ navbar çµ„ä»¶ -->
  <div class="navbar bg-base-100 shadow-sm">
    <div class="navbar-start text-primary" ng-click="home()">
      <div class="btn btn-ghost text-3xl font-bold text-primary hover:bg-base-100 font-title"> <svg fill="currentColor"
          class="icon-investment size-[1em]">
          <use xlink:href="css/symbol-defs.svg#icon-investment"></use>
        </svg> <span ng-bind="name"></span></div>
    </div>
    <div class="navbar-center flex-wrap gap-2">
      <h2 class="text-xl text-primary">ç¸¾å„ªè‚¡</h2>
      <!-- è‚¡ç¥¨é¸æ“‡å™¨ -->
      <div class="form-control">
        <select class="select select-bordered select-sm w-full max-w-xs" ng-model="stock" ng-change="change()"
          ng-options="(s.code + ' ' + (s.otc ? 'ğŸŒ±' : '') + s.name + (s.ma ? s.ma : '') + (s.profit ? s.profit : '')) for s in stocks">
          <option value="">-- è«‹é¸æ“‡è‚¡ç¥¨ --</option>
        </select>
      </div>

      <!-- MA é¸æ“‡å™¨ -->
      <div class="form-control">
        <select class="select select-bordered select-sm w-full max-w-xs" ng-model="stock.defaultMa"
          ng-change="changeMa()" ng-options="ma for ma in mas">
          <option value="">-- MAè¨­å®š --</option>
        </select>
      </div>

      <!-- ç”¨æˆ¶é¸æ“‡å™¨ -->
      <div class="form-control">
        <select class="select select-bordered select-sm w-full max-w-xs" ng-model="user" ng-change="switch()"
          ng-options="u.name for u in users">
          <option value="">-- é¸æ“‡ç”¨æˆ¶ --</option>
        </select>
      </div>
    </div>
    <div class="navbar-end">
      <!-- æ“ä½œæŒ‰éˆ•çµ„ -->
      <div class="join">
        <button class="btn btn-primary join-item" ng-if="!stock.code" ng-click="add.blank()" data-tip="æ–°å¢è‚¡ç¥¨">
          <svg fill="currentColor" class="icon-eye-plus size-[1em]">
            <use xlink:href="css/symbol-defs.svg#icon-eye-plus"></use>
          </svg> è‚¡ç¥¨
        </button>
        <button class="btn btn-primary join-item" ng-click="simulate.open()" data-tip="æ¨¡æ“¬å›æ¸¬">
          <svg fill="currentColor" class="icon-spinner9 size-[1em]">
            <use xlink:href="css/symbol-defs.svg#icon-spinner9"></use>
          </svg> å›æ¸¬
        </button>
      </div>
    </div>
  </div>


  <div id="stock-form" class="rounded-2xl grid gap-4 p-6 bg-base-100 max-w-md mx-auto shadow-lg" style="display: none">
    <div class="text-left">
      <h3 class="text-2xl text-primary font-bold mb-4">æ–°å¢è‚¡ç¥¨</h3>
      <div class="grid gap-4">
        <div class="form-control">
          <label class="label">
            <span class="label-text text-sm text-success">è‚¡ç¥¨ä»£ç¢¼</span>
          </label>
          <input ng-model="add.code" class="input input-bordered w-full" placeholder="è«‹è¼¸å…¥è‚¡ç¥¨ä»£ç¢¼" />
        </div>
        <div class="form-control">
          <label class="label">
            <span class="label-text text-sm text-success">è‚¡ç¥¨åç¨±</span>
          </label>
          <input ng-model="add.name" class="input input-bordered w-full" placeholder="è«‹è¼¸å…¥è‚¡ç¥¨åç¨±" />
        </div>
      </div>
      <div ng-if="add.save.result" class="alert alert-info mt-4">
        <span ng-bind="add.save.result"></span>
      </div>
      <div class="flex justify-end mt-6">
        <button ng-click="add.save()" class="btn btn-primary">
          <svg fill="currentColor" class="icon-eye-plus size-[1em] mr-2">
            <use xlink:href="css/symbol-defs.svg#icon-eye-plus"></use>
          </svg>ç¢ºèªæ–°å¢
        </button>
      </div>
    </div>
  </div>

  <div id="note-form" class="rounded-2xl grid gap-4 p-6 bg-base-100 max-w-2xl mx-auto shadow-lg" style="display: none">
    <div class="text-left">
      <h3 class="text-2xl text-primary font-bold mb-4">ç­†è¨˜ç·¨è¼¯</h3>
      <div class="grid gap-4">
        <div class="form-control">
          <label class="label">
            <span class="label-text text-sm text-success">æ¨™é¡Œ</span>
          </label>
          <input ng-model="note.model.title" class="input input-bordered w-full" placeholder="è«‹è¼¸å…¥ç­†è¨˜æ¨™é¡Œ" />
        </div>
        <div class="form-control">
          <label class="label">
            <span class="label-text text-sm text-success">å…§å®¹</span>
          </label>
          <textarea ng-model="note.model.content" class="textarea textarea-bordered w-full h-32"
            placeholder="è«‹è¼¸å…¥ç­†è¨˜å…§å®¹"></textarea>
        </div>
      </div>
      <div ng-if="note.save.result" class="alert alert-info mt-4">
        <span ng-bind="note.save.result"></span>
      </div>
      <div class="flex justify-end gap-2 mt-6">
        <button ng-click="note.save()" class="btn btn-primary">
          <svg fill="currentColor" class="icon-addnote size-[1em] mr-2">
            <use xlink:href="css/symbol-defs.svg#icon-addnote"></use>
          </svg>å„²å­˜
        </button>
        <button ng-if="note.model.id" ng-click="note.destroy()" class="btn btn-error">
          <svg fill="currentColor" class="icon-crying size-[1em] mr-2">
            <use xlink:href="css/symbol-defs.svg#icon-crying"></use>
          </svg>åˆªé™¤
        </button>
      </div>
    </div>
  </div>

  <div id="simulate-form" class="rounded-2xl grid gap-4 p-6 bg-base-100 max-w-3xl mx-auto shadow-lg"
    style="display: none">
    <div class="text-left">
      <h3 class="text-2xl text-primary font-bold mb-4">æ¨¡æ“¬å›æ¸¬è¨­å®š</h3>
      <div class="grid gap-4">
        <div class="bg-success rounded-2xl p-4">
          <h4 class="text-lg text-base-100 font-bold mb-3">å›æ¸¬åƒæ•¸</h4>
          <div class="grid grid-cols-2 gap-4 text-base-100">
            <div class="list">
              <span class="text-sm text-base-200">å›æ¸¬è‚¡ç¥¨</span>
              <span class="text-lg font-bold">æˆ‘çš„é—œæ³¨ï¼Œå¯äº¤æ˜“ï¼Œå…¨éƒ¨å°è‚¡ï¼Œå…¨éƒ¨ä¸Šå¸‚å°è‚¡ï¼Œå…¨éƒ¨ä¸Šæ«ƒå°è‚¡ï¼Œå…¨éƒ¨ç¾è‚¡</span>
            </div>
            <div class="list">
              <span class="text-sm text-base-200">å›æ¸¬å€é–“</span>
              <span class="text-lg font-bold font-date">2024/01/01ï½ä»Šå¤©</span>
            </div>
          </div>
        </div>
        <div class="bg-secondary rounded-2xl p-4">
          <h4 class="text-lg text-base-100 font-bold mb-3">ç­–ç•¥è¨­å®š</h4>
          <div class="grid grid-cols-2 gap-4 text-base-100">
            <div class="list">
              <span class="text-sm text-secondary-content">å…¥å ´ç­–ç•¥</span>
              <span class="text-lg font-bold">é‡‘å”¬ç”·</span>
            </div>
            <div class="list">
              <span class="text-sm text-secondary-content">å‡ºå ´ç­–ç•¥</span>
              <span class="text-lg font-bold">é‡‘å”¬ç”·ï¼‹é‡‘ç‰›ï¼‹åœæ</span>
            </div>
          </div>
        </div>
      </div>
      <div ng-if="simulate.run.result" class="alert alert-success mt-4">
        <svg fill="currentColor" class="icon-grin size-[1.5em]">
          <use xlink:href="css/symbol-defs.svg#icon-grin"></use>
        </svg>
        <span ng-bind="simulate.run.result"></span>
      </div>
      <div class="flex justify-end mt-6">
        <button ng-click="simulate.run()" class="btn btn-primary btn-lg">
          <svg fill="currentColor" class="icon-spinner9 size-[1em] mr-2">
            <use xlink:href="css/symbol-defs.svg#icon-spinner9"></use>
          </svg>é–‹å§‹å›æ¸¬
        </button>
      </div>
    </div>
  </div>

  <div ng-view class=""></div>

  <script src="/js/lang.js"></script>

  <script src="/js/svg-helper.js"></script>
  <script src="/js/svg-init.js"></script>
  <!-- SVG é–‹ç™¼å·¥å…· - é–‹ç™¼éšæ®µä½¿ç”¨ -->
  <script src="/js/svg-dev-tools.js"></script>

  <script type="module">
    import { Macd, Kdj, Cci, Rsi, BullBear, ExitAlert, BollingerBands } from '/js/macd-kdj.js';
    window.Macd = Macd;
    window.Kdj = Kdj;
    window.Cci = Cci;
    window.Rsi = Rsi;
    window.BullBear = BullBear;
    window.ExitAlert = ExitAlert;
    window.BollingerBands = BollingerBands;
    Number.prototype.scale = function (digits = 0) {
      return Number(this.toFixed(digits));
    }
  </script>
  <script src="/js/tiger-invest.js"></script>
  <script src="/js/rsi-invest.js"></script>
  <script src="/js/stock-chart.js"></script>
  <script src="/js/rich-app.js"></script>
</body>

</html>